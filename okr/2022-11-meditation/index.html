<!doctype html><html lang=en dir=" ltr "><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="gantt title O:实现冥想平台 dateFormat YYYY-MM-DD excludes sunday section KR-使用声音强化冥想,22-11-15,21 days golang 把评分做成服务:2022-11-28,3d 强化学习之training:2022-11-29,2d 前端使用多片段的背景音乐:2022-11-29,1d 前端可以不使用背景音乐:2022-11-29,1d 前端可以使用指定的背景音乐:2022-11-29,1d 指令也分成以秒为单位:done,2022-11-27,1d 背景音乐、指令以秒计数后重算vector:done,2022-11-28,1d 背景音乐ID以秒计数,（约定不管一条指令时间多长，都算一秒，一个操作步骤）:done,2022-11-27,2d 强化学习选择语音引导词:2022-11-20,5d 强化学习选择背景音乐:2022-11-20,5d 音乐分成以秒为单位:done,2022-11-22,3d 背景音乐、指令转vector:done,2022-11-25,1d 前端使用以秒为单位的背景音乐:done,2022-11-25,1d 后端记录以秒为单位的背景音乐的trajectory:done,2022-11-26,1d 强化学习Data之RR的trajectory:done,2022-11-22,2d 完成背景音乐,10首,要求固定为1分钟,2022-11-18 11:done,2022-11-17,1d 前端正常完成冥想播放:done,2022-11-21,1d 前端正常完成冥想指令切换:done,2022-11-21,1d 前端正常完成冥想汇报:done,2022-11-21,1d 后端可以随机指定背景音乐和指令:done,2022-11-20,1d 后端记录trajctory:done,2022-11-21,1d 完成合成语音引导词:done,2022-11-16,1d 完成播放冥想的逻辑:done,2022-11-17,3d 确定新版本的强化冥想的主要方案,背景音乐+语音引导词:done,2022-11-15,1d 使用声音强化冥想:2022-11-15,6d section 计划外工作 使用keydb主从服务器:2022-12-25,7d 编译成功支持flash的keydb:done,2022-11-23,1d #section devOps改进 #使用portainer的cicd:2022-11-15,2d #上传神经网络项目到github:2022-11-15,5d #使用dragonflyDB 和AOF:2022-11-15,5d section KR 完善平台数据： 采集大量数据，以便训练神经网络:2022-11-08,3d 分析博能读取加速度计的办法:2022-11-08,3d # 2022-11-11采集lz数据时手机摔坏，淘宝送修 # 2022-11-12 重新用修复了训练的稳定性。对label-smoothing 的class-weight 添加一个平均权重，避免label-smoothing无效。 # 2022-11-12 把dataloader的threading number 从24降低到8，解决总是卡死断开的问题。 # 2022-11-12 把机器内存从48G增加到96G，避免swap导致训练崩溃 section 提高RR精度 class_weight考虑loss的大小，再加上一层:2022-11-20,2d 加速度读取polarh10的加速度，以便获得非常高质量的加速度数据:2022-11-20,2d section 推广冥想软件 各种微信等注册账号的接入:2022-11-15,5d bilibili,youtube 等视频发布:2022-11-15,15d 论坛反馈的预备:2022-11-15,5d section 定位推广群体 可能更适宜婴儿这样没有额外心理活动的群体: cl1,2022-11-20,10d %% 衡量运动疲劳情况，什么时候应该重新运动。https://www."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="202211_meditation"><meta property="og:description" content="gantt title O:实现冥想平台 dateFormat YYYY-MM-DD excludes sunday section KR-使用声音强化冥想,22-11-15,21 days golang 把评分做成服务:2022-11-28,3d 强化学习之training:2022-11-29,2d 前端使用多片段的背景音乐:2022-11-29,1d 前端可以不使用背景音乐:2022-11-29,1d 前端可以使用指定的背景音乐:2022-11-29,1d 指令也分成以秒为单位:done,2022-11-27,1d 背景音乐、指令以秒计数后重算vector:done,2022-11-28,1d 背景音乐ID以秒计数,（约定不管一条指令时间多长，都算一秒，一个操作步骤）:done,2022-11-27,2d 强化学习选择语音引导词:2022-11-20,5d 强化学习选择背景音乐:2022-11-20,5d 音乐分成以秒为单位:done,2022-11-22,3d 背景音乐、指令转vector:done,2022-11-25,1d 前端使用以秒为单位的背景音乐:done,2022-11-25,1d 后端记录以秒为单位的背景音乐的trajectory:done,2022-11-26,1d 强化学习Data之RR的trajectory:done,2022-11-22,2d 完成背景音乐,10首,要求固定为1分钟,2022-11-18 11:done,2022-11-17,1d 前端正常完成冥想播放:done,2022-11-21,1d 前端正常完成冥想指令切换:done,2022-11-21,1d 前端正常完成冥想汇报:done,2022-11-21,1d 后端可以随机指定背景音乐和指令:done,2022-11-20,1d 后端记录trajctory:done,2022-11-21,1d 完成合成语音引导词:done,2022-11-16,1d 完成播放冥想的逻辑:done,2022-11-17,3d 确定新版本的强化冥想的主要方案,背景音乐+语音引导词:done,2022-11-15,1d 使用声音强化冥想:2022-11-15,6d section 计划外工作 使用keydb主从服务器:2022-12-25,7d 编译成功支持flash的keydb:done,2022-11-23,1d #section devOps改进 #使用portainer的cicd:2022-11-15,2d #上传神经网络项目到github:2022-11-15,5d #使用dragonflyDB 和AOF:2022-11-15,5d section KR 完善平台数据： 采集大量数据，以便训练神经网络:2022-11-08,3d 分析博能读取加速度计的办法:2022-11-08,3d # 2022-11-11采集lz数据时手机摔坏，淘宝送修 # 2022-11-12 重新用修复了训练的稳定性。对label-smoothing 的class-weight 添加一个平均权重，避免label-smoothing无效。 # 2022-11-12 把dataloader的threading number 从24降低到8，解决总是卡死断开的问题。 # 2022-11-12 把机器内存从48G增加到96G，避免swap导致训练崩溃 section 提高RR精度 class_weight考虑loss的大小，再加上一层:2022-11-20,2d 加速度读取polarh10的加速度，以便获得非常高质量的加速度数据:2022-11-20,2d section 推广冥想软件 各种微信等注册账号的接入:2022-11-15,5d bilibili,youtube 等视频发布:2022-11-15,15d 论坛反馈的预备:2022-11-15,5d section 定位推广群体 可能更适宜婴儿这样没有额外心理活动的群体: cl1,2022-11-20,10d %% 衡量运动疲劳情况，什么时候应该重新运动。https://www."><meta property="og:type" content="article"><meta property="og:url" content="https://kequnyang.com/okr/2022-11-meditation/"><meta property="article:section" content="okr"><meta property="article:published_time" content="2022-11-01T07:17:00+08:00"><meta property="article:modified_time" content="2022-12-14T19:41:34+08:00"><title>202211_meditation | To Build, I Live</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.dd05bb7cb8e7cc9da19dd8062472a16791465d468ff2c52bf4f137e6d138cbda.css integrity="sha256-3QW7fLjnzJ2hndgGJHKhZ5FGXUaP8sUr9PE35tE4y9o=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.83ec873032746a6d1fa4b4d293604dfe179b37062d3b65a11dc838016377fd6f.js integrity="sha256-g+yHMDJ0am0fpLTSk2BN/hebNwYtO2WhHcg4AWN3/W8=" crossorigin=anonymous></script>
<script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script></head><body dir=" ltr "><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>To Build, I Live</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/forcasts/ target=_blank rel=noopener>forcasts / 预言</a></li><li><a href=/ideas/ target=_blank rel=noopener>ideas / 想法</a></li><li><a href=/okr/2022-11-meditation/ target=_blank rel=noopener>Todo Last Month</a></li><li><a href=/okr/2022-12-meditation/ target=_blank rel=noopener>Todo This Month</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>202211_meditation</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#博能读取数据-2021-10-20>博能读取数据 2021-10-20</a></li></ul></li></ul></nav></aside></header><article class=markdown><div class=mermaid>gantt
title O:实现冥想平台
dateFormat YYYY-MM-DD
excludes sunday
section KR-使用声音强化冥想,22-11-15,21 days
golang 把评分做成服务:2022-11-28,3d
强化学习之training:2022-11-29,2d
前端使用多片段的背景音乐:2022-11-29,1d
前端可以不使用背景音乐:2022-11-29,1d
前端可以使用指定的背景音乐:2022-11-29,1d
指令也分成以秒为单位:done,2022-11-27,1d
背景音乐、指令以秒计数后重算vector:done,2022-11-28,1d
背景音乐ID以秒计数,（约定不管一条指令时间多长，都算一秒，一个操作步骤）:done,2022-11-27,2d
强化学习选择语音引导词:2022-11-20,5d
强化学习选择背景音乐:2022-11-20,5d
音乐分成以秒为单位:done,2022-11-22,3d
背景音乐、指令转vector:done,2022-11-25,1d
前端使用以秒为单位的背景音乐:done,2022-11-25,1d
后端记录以秒为单位的背景音乐的trajectory:done,2022-11-26,1d
强化学习Data之RR的trajectory:done,2022-11-22,2d
完成背景音乐,10首,要求固定为1分钟,2022-11-18 11:done,2022-11-17,1d
前端正常完成冥想播放:done,2022-11-21,1d
前端正常完成冥想指令切换:done,2022-11-21,1d
前端正常完成冥想汇报:done,2022-11-21,1d
后端可以随机指定背景音乐和指令:done,2022-11-20,1d
后端记录trajctory:done,2022-11-21,1d
完成合成语音引导词:done,2022-11-16,1d
完成播放冥想的逻辑:done,2022-11-17,3d
确定新版本的强化冥想的主要方案,背景音乐+语音引导词:done,2022-11-15,1d
使用声音强化冥想:2022-11-15,6d
section 计划外工作
使用keydb主从服务器:2022-12-25,7d
编译成功支持flash的keydb:done,2022-11-23,1d
#section devOps改进
#使用portainer的cicd:2022-11-15,2d
#上传神经网络项目到github:2022-11-15,5d
#使用dragonflyDB 和AOF:2022-11-15,5d
section KR 完善平台数据：
采集大量数据，以便训练神经网络:2022-11-08,3d
分析博能读取加速度计的办法:2022-11-08,3d
# 2022-11-11采集lz数据时手机摔坏，淘宝送修
# 2022-11-12 重新用修复了训练的稳定性。对label-smoothing 的class-weight 添加一个平均权重，避免label-smoothing无效。
# 2022-11-12 把dataloader的threading number 从24降低到8，解决总是卡死断开的问题。
# 2022-11-12 把机器内存从48G增加到96G，避免swap导致训练崩溃
section 提高RR精度
class_weight考虑loss的大小，再加上一层:2022-11-20,2d
加速度读取polarh10的加速度，以便获得非常高质量的加速度数据:2022-11-20,2d
section 推广冥想软件
各种微信等注册账号的接入:2022-11-15,5d
bilibili,youtube 等视频发布:2022-11-15,15d
论坛反馈的预备:2022-11-15,5d
section 定位推广群体
可能更适宜婴儿这样没有额外心理活动的群体: cl1,2022-11-20,10d
%% 衡量运动疲劳情况，什么时候应该重新运动。https://www.whoop.com/thelocker/heart-rate-variability-hrv/
#度量所有药品的有效性，例如亚精胺
#度量作品的欢乐程度
%% 最粗略的入职体检，快速判断一个人的身体状态。员工每日状态检测。很难作弊的方式判断一个人是否疲劳
# 搞笑诺贝尔奖中的会约会的人心率会同步。
#芬兰的产品芬兰Firstbeat心率变异性分析 https://item.taobao.com/item.htm?spm=a230r.1.14.142.20d05a7b6FbkvI&id=680802758929&ns=1&abbucket=16#detail
#员工情绪变化波动。
# 健康，死亡率监测 https://www.frontiersin.org/articles/10.3389/fpubh.2017.00258/full04T22
# 短期harv 和死亡有强关联。需要评估测量。https://www.ahajournals.org/doi/10.1161/01.cir.0000047275.25795.17
# polar 设备也许可以直接读取HBV https://www.polar.com/blog/heart-rate-variability-hrv/ https://www.polar.com/vantage/v2
# 背景音乐强化
背景音乐市场应该是最佳市场。 最好的背景音乐要求先是具有正念效应，也就是积极的压力，但是稍后有利于提升hrv :2022-11-20,10d
# 一个手机，可以控制前端网页上的各种操作
# [emotion control](https://www.frontiersin.org/articles/10.3389/fnins.2019.01131/full)
section 通过gitpages部署网站
通过gitpages 部署网站saavuu:2022-11-20,1d
git actions 部署网站saavuu:2022-11-20,2d
网站回撤机制:2022-11-20,3d
考虑新域名策略，happyhabbi:done,2022-11-13,1d
# 2022年11月13日，全天都在琢磨名字
#基本选定： youthenforce,longyouth,youthforever,youthpower,youthyoung,youthate,uthen,uthate,youthor,youthur,永远年轻的人
#让我激动：youthate，youthor,backtoyouth,youthbacks✅,iam26,manofrl,backto18✅，18backs✅, backtoyoung
# youthgeek,youthkeep,youthQ,youngKQ,youthtracker,youthiam,
# 考虑核心词汇 longevity,refresh
# 考虑 youngever,youngagain,backtoyouth,backtoyoung,youngAgain,youthub
# 动词化 youthen,youthwise,youthfy,youthart
# 前缀 enyouth,enuth,enyoung
# avalable:uthgeek,uthkeep,uthbit,youthhabit,uthback,uthuth,uthzen,youthback,youthtrace,
# not avalable:youthgeek,youthbit,youthagain,backtoyouth,youthward
section KR：saavuu框架的改进
log using logx:done,2022-11-15,1d
安全性改进，避免扫描攻击：添加批量操作权限配置:done,2022-11-14,2d
把saavuu 部署到docker 容器当中:done,2022-11-13,2d
#重装了portainer
#学习并放弃了portainer 自带的golang镜像生成器。原因是最后注意到版本太落后，编译提示Error: Must add canonical import path to root package。:2022-11-13
#学习使用golang镜像来生成镜像
section KR：修复hrv的准确性,剧烈波动
Class_weight对没有出现的类别的权重，调整为平均权重，否则label-smoothing不能生效:done,2022-11-11,1d
分离heartRate、RRSpan的ConvChannel,以便训练更快，收敛更准:done,2022-11-11,1d
分离heartRate的State,以便heartRate更稳定:done,2022-11-11,1d
fix nan loss,使用label smoothing:done,2022-11-10,1d
推理会出现卡阻的问题,因为没使用wifi，4G信号弱:done,2022-11-10,1d
FireFox采用点数每秒419是否是Bug,无误:done,2022-11-08,2d
训练时使用训练数据的Bug,RR相对加速度的偏移不应超过一个心率:done,2022-11-08,1d
仔细分析训练时候的权重更迭的过程:done,2022-11-08,2d
RR预测会出现RR为0的Bug:done,2022-11-08,1d
chrome、firefox时间匹配,可靠的时间同步校准:done,2022-11-08,1d
后端训练，重新匹配适应毫秒级精度时间:done,2022-11-07,1d
前端使用毫秒级高精度计时器: done,2022-11-07,1d
后端训练，添加能体现class 之间线性关系的loss: done,2022-11-07,1d
用分类来做hb 预测，理由是由于样本不均衡。线性预测一定是不可能准确的: done,2022-11-04,2d
前端显示时毫秒调整后的时间:done,2022-11-05,2d
及心率的时间改为更准确的时间，避免或许有高达一秒的时间偏差。加速度使用的时候考虑校准这个时间偏差:done,2022-11-04,1d
训练的时候加入loss,使得不同类别被用到的几率绝对均等:done,2022-11-04,2d
现在使用crossEntropy的姿势是错误的。改为正确的方式: done,2022-11-03,1d
#仔细检查RR的loss,看为什么loss看起来不可靠: 2022-11-03,1d
一个高精准的数据同步方式，来同步数据信号，用心率来同步加速度信号，而不是用加速度信号来同步心率信号，放弃 : done,2022-11-03,1d
#放弃：心率和RR到达的时间不稳定，前后波动几百毫秒，需要做的变动太大。
用多段线性回归来做RR，放弃: done,2022-11-03,1d
#放弃，理论可靠性不如多类回归
#这是因为留意到心率heartbeat的其实实时性挺好。但是RR的波动性依旧总是上不来
现在RR的准确率几乎总是可以相当精确地反应心率，故把HR信号也用多分类方式改写，放弃，因为准确性不是问题: done,2022-11-05,1d
一个高精准的数据同步方式，来同步不同浏览器的信号采集，放弃: done,2022-11-02,1d
#放弃的原因是觉得chrome提供的精度应该够了
统计hrv分布，从数据看hrv无法连续的根因 : done,2022-11-02,1d
rr间距的类再平衡 : done,2022-11-02,1d
#猜测核心原因，1，stride不够。2.newState 计算时候层数过少.3卷积层数太少
#真是关键原因，没有使用lastState,导致无法使用状态信息
hrv 分类预测，结合mse:done,2022-10-30,2d
预测时的bug,数值剧烈波动+stride+6层卷积+multilayGenNewState+regressionAsHeartRate:done,2022-11-01,1d
Mode,消除数值剧烈波动-Improvex2=256hiddenstate+2layerGRU:done,2022-11-01,1d</div><h2 id=博能读取数据-2021-10-20>博能读取数据 2021-10-20
<a class=anchor href=#%e5%8d%9a%e8%83%bd%e8%af%bb%e5%8f%96%e6%95%b0%e6%8d%ae-2021-10-20>#</a></h2><p><a href=https://github.com/polarofficial/polar-ble-sdk/blob/master/technical_documentation/SdkModeExplained.md>SDK Mode</a></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script><script src=https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js></script>
<script>mermaid.initialize({startOnLoad:!0})</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#博能读取数据-2021-10-20>博能读取数据 2021-10-20</a></li></ul></li></ul></nav></div></aside></main></body></html>